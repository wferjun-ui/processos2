<Window x:Class="SistemaJuridico.Views.CadastroWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="{Binding TituloJanela}" Height="750" Width="950" WindowStartupLocation="CenterOwner" ResizeMode="NoResize"
        Background="{DynamicResource MaterialDesignPaper}" TextElement.Foreground="{DynamicResource MaterialDesignBody}">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="30">
            <TextBlock Text="DADOS CADASTRAIS" FontSize="20" FontWeight="Bold" Foreground="{StaticResource PrimaryHueMidBrush}" Margin="0,0,0,20"/>
            
            <materialDesign:Card Padding="20" Margin="0,0,0,20" UniformCornerRadius="8">
                <StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Margin="0,0,15,0">
                            <TextBox Text="{Binding Numero, UpdateSourceTrigger=PropertyChanged}" materialDesign:HintAssist.Hint="Número do Processo (CNJ)" Style="{StaticResource MaterialDesignOutlinedTextBox}" FontSize="14" FontWeight="Bold"/>
                            <CheckBox IsChecked="{Binding IsAntigo}" Content="Processo Antigo / Outro Formato" Margin="0,5,0,0"/>
                        </StackPanel>
                        
                        <ComboBox Grid.Column="1" 
                                  IsEditable="True" 
                                  ItemsSource="{Binding SugestoesJuiz}" 
                                  Text="{Binding Juiz, UpdateSourceTrigger=PropertyChanged}" 
                                  materialDesign:HintAssist.Hint="Juiz / Vara" 
                                  Style="{StaticResource MaterialDesignOutlinedComboBox}"/>
                    </Grid>

                    <Grid Margin="0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <ComboBox 
                             IsEditable="True" 
                             ItemsSource="{Binding SugestoesPaciente}"
                             Text="{Binding Paciente, UpdateSourceTrigger=PropertyChanged}" 
                             materialDesign:HintAssist.Hint="Nome do Paciente (Parte Autora)" 
                             Style="{StaticResource MaterialDesignOutlinedComboBox}" 
                             Margin="0,0,15,0"/>
                             
                        <ComboBox Grid.Column="1" Text="{Binding Classificacao}" materialDesign:HintAssist.Hint="Classificação" Style="{StaticResource MaterialDesignOutlinedComboBox}">
                            <ComboBoxItem Content="Cível"/>
                            <ComboBoxItem Content="Saúde"/>
                            <ComboBoxItem Content="Família"/>
                            <ComboBoxItem Content="Fazenda Pública"/>
                        </ComboBox>
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <ComboBox Text="{Binding GenitorTipo}" Style="{StaticResource MaterialDesignOutlinedComboBox}" Width="140" Margin="0,0,15,0">
                            <ComboBoxItem Content="Genitor"/>
                            <ComboBoxItem Content="Representante"/>
                        </ComboBox>
                        
                        <ComboBox Grid.Column="1" 
                                  IsEditable="True"
                                  ItemsSource="{Binding SugestoesGenitor}"
                                  Text="{Binding GenitorNome, UpdateSourceTrigger=PropertyChanged}" 
                                  materialDesign:HintAssist.Hint="Nome do Responsável Legal" 
                                  Style="{StaticResource MaterialDesignOutlinedComboBox}"/>
                    </Grid>
                </StackPanel>
            </materialDesign:Card>

            <TextBlock Text="RÉUS / PARTE CONTRÁRIA" FontWeight="Bold" Foreground="Gray" Margin="5,0,0,5"/>
            <ItemsControl ItemsSource="{Binding Reus}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Grid Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox Text="{Binding Nome}" materialDesign:HintAssist.Hint="Nome do Réu"/>
                            <Button Grid.Column="1" Command="{Binding DataContext.RemoveReuCommand, RelativeSource={RelativeSource AncestorType=Window}}" CommandParameter="{Binding}" Style="{StaticResource MaterialDesignFlatButton}" Content="X" Foreground="Red"/>
                        </Grid>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
            <Button Command="{Binding AddReuCommand}" Style="{StaticResource MaterialDesignOutlinedButton}" Content="ADICIONAR RÉU" HorizontalAlignment="Left" Margin="0,10,0,20"/>

            <StackPanel Visibility="{Binding SaudeVisibility}">
                <Separator Margin="0,10"/>
                <TextBlock Text="ITENS DE SAÚDE / TUTELA" FontWeight="Bold" Foreground="Teal" Margin="10,0,0,0"/>
                
                <ItemsControl ItemsSource="{Binding ItensSaude}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <materialDesign:Card Padding="10" Margin="0,5" Background="#F0FDFA" UniformCornerRadius="5">
                                <StackPanel>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="140"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <ComboBox Text="{Binding Tipo}" materialDesign:HintAssist.Hint="Tipo">
                                            <ComboBoxItem Content="Medicamento"/>
                                            <ComboBoxItem Content="Terapia"/>
                                            <ComboBoxItem Content="Cirurgia"/>
                                            <ComboBoxItem Content="Outros"/>
                                        </ComboBox>
                                        
                                        <ComboBox Grid.Column="1" IsEditable="True"
                                                  ItemsSource="{Binding DataContext.SugestoesTratamento, RelativeSource={RelativeSource AncestorType=Window}}"
                                                  Text="{Binding Nome}" 
                                                  materialDesign:HintAssist.Hint="Nome do Item / Procedimento" 
                                                  Margin="10,0"/>
                                                  
                                        <Button Grid.Column="2" Command="{Binding DataContext.RemoveSaudeCommand, RelativeSource={RelativeSource AncestorType=Window}}" CommandParameter="{Binding}" Content="X" Style="{StaticResource MaterialDesignIconForegroundButton}" Foreground="Red"/>
                                    </Grid>
                                    
                                    <Grid Margin="0,10,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBox Text="{Binding Qtd}" materialDesign:HintAssist.Hint="Qtd" Margin="0,0,5,0"/>
                                        <ComboBox Grid.Column="1" Text="{Binding Frequencia}" materialDesign:HintAssist.Hint="Frequência" Margin="5,0">
                                            <ComboBoxItem Content="Mensal"/>
                                            <ComboBoxItem Content="Semanal"/>
                                            <ComboBoxItem Content="Diário"/>
                                        </ComboBox>
                                        <ComboBox Grid.Column="2" Text="{Binding Local}" materialDesign:HintAssist.Hint="Local" Margin="5,0">
                                            <ComboBoxItem Content="Clínica"/>
                                            <ComboBoxItem Content="Home Care"/>
                                            <ComboBoxItem Content="SUS"/>
                                            <ComboBoxItem Content="Particular"/>
                                        </ComboBox>
                                        <TextBox Grid.Column="3" Text="{Binding Data}" materialDesign:HintAssist.Hint="Data Início" Margin="5,0,0,0"/>
                                    </Grid>
                                </StackPanel>
                            </materialDesign:Card>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
                <Button Command="{Binding AddSaudeCommand}" Content="ADICIONAR ITEM" Style="{StaticResource MaterialDesignOutlinedButton}" HorizontalAlignment="Left" Foreground="Teal" BorderBrush="Teal"/>
            </StackPanel>

            <DockPanel Margin="0,30,0,0">
                <Button DockPanel.Dock="Left" Command="{Binding ExcluirCommand}" Visibility="{Binding BtnExcluirVisibility}" Content="EXCLUIR PROCESSO" Background="Red" BorderBrush="Red"/>
                <Button Command="{Binding SalvarCommand}" Content="SALVAR DADOS" Height="50" FontSize="16"/>
            </DockPanel>
        </StackPanel>
    </ScrollViewer>
</Window>
